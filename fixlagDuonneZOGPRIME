local Lighting = game:GetService("Lighting")
local Workspace = game:GetService("Workspace")
local RunService = game:GetService("RunService")
local Players = game:GetService("Players")


local function SetupEnvironment()
    for _, v in pairs(Lighting:GetChildren()) do
        if v:IsA("PostProcessEffect") or v:IsA("Sky") or v:IsA("Atmosphere") or v:IsA("Clouds") or 
           v:IsA("Bloom") or v:IsA("Blur") or v:IsA("SunRays") or v:IsA("DepthOfField") then
            v:Destroy()
        end
    end
    Lighting.GlobalShadows = false
    Lighting.FogEnd = 9e9
    Lighting.Brightness = 1
    Lighting.ClockTime = 12
end

local function ProcessPotato(v)
    local name = v.Name:lower()
    local parentName = v.Parent and v.Parent.Name:lower() or ""


    if name:find("soul shaker") or name:find("el diablo") or name:find("shaker") or name:find("diablo") or name:find("skull") then
        if v:IsA("ParticleEmitter") or v:IsA("Light") or v:IsA("Trail") or v:IsA("Beam") then
            v.Enabled = false
        end
        
        if (v:IsA("BasePart") or v:IsA("MeshPart")) and not v.Parent:IsA("Tool") then
            v.Transparency = 1 
            v.Size = Vector3.new(0, 0, 0)
            v.CanCollide = false
            if v:IsA("MeshPart") then v.TextureID = "" end
        end
    end

    if v:IsA("BasePart") or v:IsA("MeshPart") then
        if not (name:find("effect") or parentName:find("effect")) then
            v.Material = Enum.Material.SmoothPlastic
            v.Reflectance = 0
            if v:IsA("MeshPart") then v.TextureID = "" end
        end
    end

    if v:IsA("ParticleEmitter") or v:IsA("Trail") or v:IsA("Beam") then
        v.Texture = "" 
        v.Transparency = NumberSequence.new(0.8)
        v.LightEmission = 0
    end

    if name:find("effect") or parentName:find("effect") then
        if v:IsA("BasePart") or v:IsA("MeshPart") then
            v.Material = Enum.Material.ForceField 
            v.Transparency = 0.8
            v.CanCollide = false
        end
    end

    if v:IsA("Decal") or v:IsA("Texture") or v:IsA("SurfaceAppearance") then
        v:Destroy()
    end
end

SetupEnvironment()
for _, v in pairs(Workspace:GetDescendants()) do pcall(function() ProcessPotato(v) end) end
Workspace.DescendantAdded:Connect(function(v)
    task.wait()
    pcall(function() ProcessPotato(v) end)
end)

settings().Rendering.QualityLevel = 1
