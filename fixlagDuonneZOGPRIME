-- 1. ĐOẠN CODE FIX LAG (GÓI GỌN ĐỂ RE-LOAD)
local FixLagCode = [[
    local Lighting = game:GetService("Lighting")
    local function ClearLighting()
        Lighting.GlobalShadows = false
        Lighting.Brightness = 1
        Lighting.OutdoorAmbient = Color3.fromRGB(128, 128, 128)
        for _, v in pairs(Lighting:GetChildren()) do
            if v:IsA("PostEffect") or v:IsA("Bloom") or v:IsA("Blur") or v:IsA("SunRaysEffect") or v:IsA("ColorCorrectionEffect") then
                v.Enabled = false
            end
        end
    end
    local function SupremeOptimize(obj)
        if obj:IsA("ParticleEmitter") or obj:IsA("Trail") or obj:IsA("Fire") or obj:IsA("Smoke") or obj:IsA("Sparkles") then
            obj.Enabled = false
        elseif obj:IsA("Explosion") then
            obj.Visible = false
        elseif obj:IsA("SurfaceAppearance") or obj:IsA("Decal") or obj:IsA("Texture") then
            obj:Destroy()
        elseif obj:IsA("MeshPart") or obj:IsA("BasePart") then
            obj.Material = Enum.Material.SmoothPlastic
            obj.CastShadow = false
            if obj:IsA("MeshPart") then obj.RenderFidelity = Enum.RenderFidelity.Performance end
        end
    end
    ClearLighting()
    for _, v in pairs(workspace:GetDescendants()) do SupremeOptimize(v) end
    game.DescendantAdded:Connect(SupremeOptimize)
]]

-- 2. HÀM TỰ ĐỘNG THỰC THI (CHỐNG LỖI VELOCITY)
local function ExecuteAll()
    -- Chạy Fix Lag
    pcall(function()
        loadstring(FixLagCode)()
    end)
